# Main Hydra configuration for LDC solvers
# Usage: uv run python run_solver.py solver=fv Re=100 N=32
#        uv run python run_solver.py solver=spectral Re=100 N=15

defaults:
  - solver: fv
  - mlflow: local
  - _self_

# =============================================================================
# Common Parameters (shared by all solvers)
# =============================================================================

# Grid size (meaning depends on solver):
#   FV: N = number of cells in each direction
#   Spectral: N = polynomial order (gives N+1 nodes)
N: 32

# Physics
Re: 100
lid_velocity: 1.0
Lx: 1.0
Ly: 1.0

# Solver control
tolerance: 1.0e-6
max_iterations: 500

# Experiment tracking
experiment_name: LDC-Solver

# =============================================================================
# Hydra output paths
# =============================================================================
hydra:
  run:
    dir: outputs/${experiment_name}/Re${Re}/${solver.name}/${now:%d-%m-%y}/${now:%H:%M:%S}
  sweep:
    dir: multirun/${experiment_name}/Re${Re}/${solver.name}/${now:%d-%m-%y}/${now:%H:%M:%S}
    subdir: N${N}
